---
import Layout from '../layouts/Layout.astro';
import cvData from '../data/cv-data.json';
import { FileText, Download, Award, GraduationCap, Briefcase, BookOpen } from 'lucide-react';

const pageTitle = "Curriculum Vitae";
const pageDescription = "Download the full CV of Dr. John P. Krasting - Climate scientist, lecturer, and researcher at NOAA GFDL with 17+ years of experience.";

const { personal, metrics, awards, education } = cvData;
---

<Layout title={pageTitle} description={pageDescription}>
  <div class="max-w-4xl mx-auto px-4 py-12 sm:py-20">
    <!-- Page Header -->
    <div class="text-center mb-12">
      <h1 class="text-4xl font-bold text-gray-900 mb-4">Curriculum Vitae</h1>
      <p class="text-xl text-gray-600 max-w-2xl mx-auto">
        {personal.name}, {personal.title} - Climate Scientist & Educator
      </p>
    </div>

    <!-- Download Section -->
    <div class="bg-gradient-to-br from-blue-600 to-indigo-700 rounded-2xl p-8 mb-12 text-white text-center">
      <FileText className="w-16 h-16 mx-auto mb-4 opacity-90" />
      <h2 class="text-2xl font-bold mb-2">Full CV Available for Download</h2>
      <p class="text-blue-100 mb-6 max-w-lg mx-auto">
        Complete academic curriculum vitae including publications, grants, teaching, service, and professional activities.
      </p>
      <a
        href="/Krasting_CV.pdf"
        class="inline-flex items-center gap-2 px-8 py-4 bg-white text-blue-600 rounded-lg font-semibold hover:bg-blue-50 transition-colors shadow-lg hover:shadow-xl"
        download
      >
        <Download className="w-5 h-5" />
        Download CV (PDF)
      </a>
    </div>

    <!-- Summary Highlights -->
    <div class="mb-12">
      <h2 class="text-2xl font-bold text-gray-900 mb-6">At a Glance</h2>
      <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
        <div class="bg-white rounded-xl border border-gray-200 p-6 text-center">
          <div class="text-3xl font-bold text-blue-600 mb-1">{metrics.totalPublications}</div>
          <div class="text-sm text-gray-600">Publications</div>
        </div>
        <div class="bg-white rounded-xl border border-gray-200 p-6 text-center">
          <div class="text-3xl font-bold text-blue-600 mb-1">{metrics.hIndex}</div>
          <div class="text-sm text-gray-600">h-index</div>
        </div>
        <div class="bg-white rounded-xl border border-gray-200 p-6 text-center">
          <div class="text-3xl font-bold text-blue-600 mb-1">${(metrics.totalFunding / 1000000).toFixed(1)}M</div>
          <div class="text-sm text-gray-600">Research Funding</div>
        </div>
        <div class="bg-white rounded-xl border border-gray-200 p-6 text-center">
          <div class="text-3xl font-bold text-blue-600 mb-1">{metrics.yearsExperience}+</div>
          <div class="text-sm text-gray-600">Years Experience</div>
        </div>
      </div>
    </div>

    <!-- Current Positions -->
    <div class="mb-12">
      <div class="flex items-center gap-3 mb-6">
        <Briefcase className="w-6 h-6 text-blue-600" />
        <h2 class="text-2xl font-bold text-gray-900">Current Positions</h2>
      </div>
      <div class="space-y-4">
        {personal.positions.filter(p => p.current).map((position) => (
          <div class="bg-white rounded-xl border border-gray-200 p-6">
            <h3 class="text-lg font-semibold text-gray-900">{position.title}</h3>
            <p class="text-blue-600 font-medium">{position.organization}</p>
            {position.department && (
              <p class="text-gray-600 text-sm">{position.department}</p>
            )}
            <p class="text-gray-500 text-sm mt-2">{position.startDate} - {position.endDate}</p>
          </div>
        ))}
      </div>
    </div>

    <!-- Education -->
    <div class="mb-12">
      <div class="flex items-center gap-3 mb-6">
        <GraduationCap className="w-6 h-6 text-blue-600" />
        <h2 class="text-2xl font-bold text-gray-900">Education</h2>
      </div>
      <div class="space-y-4">
        {personal.education.map((edu) => (
          <div class="bg-white rounded-xl border border-gray-200 p-6">
            <div class="flex items-start justify-between">
              <div>
                <h3 class="text-lg font-semibold text-gray-900">{edu.degree} in {edu.field}</h3>
                <p class="text-gray-600">{edu.institution}</p>
              </div>
              <span class="text-gray-500 font-medium">{edu.year}</span>
            </div>
          </div>
        ))}
      </div>
    </div>

    <!-- Selected Awards -->
    <div class="mb-12">
      <div class="flex items-center gap-3 mb-6">
        <Award className="w-6 h-6 text-blue-600" />
        <h2 class="text-2xl font-bold text-gray-900">Selected Awards & Honors</h2>
      </div>
      <div class="space-y-4">
        {awards.slice(0, 5).map((award) => (
          <div class="bg-white rounded-xl border border-gray-200 p-6">
            <div class="flex items-start justify-between">
              <div>
                <h3 class="text-lg font-semibold text-gray-900">{award.title}</h3>
                <p class="text-gray-600">{award.organization}</p>
                <p class="text-sm text-gray-500 mt-1">{award.description}</p>
              </div>
              <span class="text-blue-600 font-bold text-lg">{award.year}</span>
            </div>
          </div>
        ))}
      </div>
    </div>

    <!-- CV Sections Overview -->
    <div class="mb-12">
      <div class="flex items-center gap-3 mb-6">
        <BookOpen className="w-6 h-6 text-blue-600" />
        <h2 class="text-2xl font-bold text-gray-900">Full CV Contents</h2>
      </div>
      <div class="bg-gray-50 rounded-xl border border-gray-200 p-6">
        <p class="text-gray-700 mb-4">
          The complete CV includes detailed information on:
        </p>
        <div class="grid md:grid-cols-2 gap-4">
          <ul class="space-y-2 text-gray-600">
            <li class="flex items-center gap-2">
              <span class="w-2 h-2 bg-blue-600 rounded-full"></span>
              Professional Experience & Employment History
            </li>
            <li class="flex items-center gap-2">
              <span class="w-2 h-2 bg-blue-600 rounded-full"></span>
              Complete Publication List ({metrics.totalPublications} publications)
            </li>
            <li class="flex items-center gap-2">
              <span class="w-2 h-2 bg-blue-600 rounded-full"></span>
              Research Grants & Funding
            </li>
            <li class="flex items-center gap-2">
              <span class="w-2 h-2 bg-blue-600 rounded-full"></span>
              Teaching Experience
            </li>
          </ul>
          <ul class="space-y-2 text-gray-600">
            <li class="flex items-center gap-2">
              <span class="w-2 h-2 bg-blue-600 rounded-full"></span>
              Invited Talks & Conference Presentations
            </li>
            <li class="flex items-center gap-2">
              <span class="w-2 h-2 bg-blue-600 rounded-full"></span>
              Professional Service & Leadership
            </li>
            <li class="flex items-center gap-2">
              <span class="w-2 h-2 bg-blue-600 rounded-full"></span>
              Awards & Honors
            </li>
            <li class="flex items-center gap-2">
              <span class="w-2 h-2 bg-blue-600 rounded-full"></span>
              Mentoring & Student Supervision
            </li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Second Download CTA -->
    <div class="text-center">
      <a
        href="/Krasting_CV.pdf"
        class="inline-flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors"
        download
      >
        <Download className="w-5 h-5" />
        Download Full CV (PDF)
      </a>
      <p class="text-gray-500 text-sm mt-3">
        Last updated: January 2026
      </p>
    </div>
  </div>
</Layout>
